Version 4.1
SHEET 1 2084 680
WIRE 240 -496 -1200 -496
WIRE 1856 -496 416 -496
WIRE 1536 -416 1472 -416
WIRE 112 -400 -816 -400
WIRE 1536 -384 1536 -416
WIRE -1088 -336 -1088 -384
WIRE -976 -336 -1088 -336
WIRE -96 -336 -176 -336
WIRE 48 -336 -16 -336
WIRE 1392 -336 1392 -368
WIRE 1472 -336 1472 -416
WIRE 1472 -336 1392 -336
WIRE 1392 -320 1392 -336
WIRE 1232 -288 1232 -368
WIRE 1232 -288 1120 -288
WIRE 1312 -288 1232 -288
WIRE -976 -272 -976 -336
WIRE -528 -272 -608 -272
WIRE -384 -272 -464 -272
WIRE 1536 -256 1536 -304
WIRE 1536 -256 1472 -256
WIRE 1632 -256 1536 -256
WIRE 1312 -224 1232 -224
WIRE 976 -208 928 -208
WIRE 1120 -208 1120 -288
WIRE 1120 -208 1056 -208
WIRE -1088 -192 -1088 -336
WIRE -64 -176 -64 -208
WIRE -816 -144 -816 -400
WIRE -736 -144 -816 -144
WIRE -608 -144 -608 -272
WIRE -608 -144 -656 -144
WIRE -176 -144 -176 -336
WIRE -176 -144 -224 -144
WIRE -144 -144 -176 -144
WIRE -608 -128 -608 -144
WIRE -528 -128 -608 -128
WIRE -976 -112 -976 -192
WIRE -928 -112 -976 -112
WIRE -384 -112 -384 -272
WIRE -384 -112 -464 -112
WIRE -352 -112 -384 -112
WIRE -224 -112 -224 -144
WIRE -224 -112 -272 -112
WIRE 48 -112 48 -336
WIRE 48 -112 16 -112
WIRE 112 -112 112 -400
WIRE 112 -112 48 -112
WIRE 1392 -112 1392 -192
WIRE -528 -96 -608 -96
WIRE -608 -80 -608 -96
WIRE -144 -80 -224 -80
WIRE -384 -48 -384 -112
WIRE -224 -48 -224 -80
WIRE 48 -48 48 -112
WIRE 112 -48 112 -112
WIRE 544 -48 464 -48
WIRE 672 -48 624 -48
WIRE 704 -48 672 -48
WIRE 784 -48 768 -48
WIRE 816 -48 784 -48
WIRE 928 -48 928 -208
WIRE 928 -48 896 -48
WIRE 976 -48 928 -48
WIRE -976 -32 -976 -112
WIRE 1120 -32 1120 -208
WIRE 1120 -32 1040 -32
WIRE 976 -16 928 -16
WIRE -496 0 -496 -80
WIRE -64 0 -64 -48
WIRE 928 16 928 -16
WIRE 112 80 112 32
WIRE 1392 80 1392 16
WIRE -1088 96 -1088 -112
WIRE -976 96 -976 48
WIRE -976 96 -1088 96
WIRE 784 112 784 -48
WIRE 1232 112 1232 16
WIRE 1232 112 784 112
WIRE 1312 112 1232 112
WIRE 1520 144 1472 144
WIRE 1648 144 1520 144
WIRE -1088 160 -1088 96
WIRE 1312 176 1232 176
WIRE 112 192 112 160
WIRE 1520 192 1520 144
WIRE 1392 288 1392 208
WIRE 1520 304 1520 272
WIRE -1200 416 -1200 -496
WIRE 240 416 240 -496
WIRE 240 416 -1200 416
WIRE 416 416 416 -496
WIRE 1856 416 1856 -496
WIRE 1856 416 416 416
FLAG -1088 160 0
FLAG -1088 -384 VDD
IOPIN -1088 -384 Out
FLAG -384 -48 Vramp
IOPIN -384 -48 Out
FLAG 48 -48 Vsqr
IOPIN 48 -48 Out
FLAG -928 -112 Vcm
IOPIN -928 -112 Out
FLAG -224 -48 Vcm
IOPIN -224 -48 In
FLAG -64 0 0
FLAG -496 0 0
FLAG -608 -80 Vcm
IOPIN -608 -80 In
FLAG -496 -144 VDD
IOPIN -496 -144 In
FLAG 112 192 0
FLAG -64 -208 VDD
IOPIN -64 -208 In
FLAG 464 -48 0
FLAG 928 16 Vcm
IOPIN 928 16 In
FLAG 672 -48 Vin_a
IOPIN 672 -48 In
FLAG 1232 -368 Vin_a-
IOPIN 1232 -368 Out
FLAG 1232 16 Vin_a+
IOPIN 1232 16 Out
FLAG 1232 -224 Vramp
IOPIN 1232 -224 In
FLAG 1232 176 Vramp
IOPIN 1232 176 In
FLAG 1392 -112 0
FLAG 1392 288 0
FLAG 1648 144 Vpwm_p
IOPIN 1648 144 Out
FLAG 1632 -256 Vpwm_n
IOPIN 1632 -256 Out
FLAG 1392 -64 0
FLAG 1520 384 0
FLAG 1392 -448 0
FLAG 1008 0 0
SYMBOL res -640 -160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 25K
SYMBOL LM339 -96 -112 R0
SYMATTR InstName X2
SYMATTR Prefix X
SYMATTR Value LM339
SYMBOL cap -464 -288 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 10nF
SYMBOL res -256 -128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10K
SYMBOL voltage -1088 -208 R0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL res -992 -288 R0
SYMATTR InstName R4
SYMATTR Value 1K
SYMBOL res -992 -48 R0
SYMATTR InstName R5
SYMATTR Value 1K
SYMBOL OpAmps\\UniversalOpAmp -496 -112 R0
SYMATTR InstName U1
SYMBOL res 96 -64 R0
SYMATTR InstName R6
SYMATTR Value 4.4K
SYMBOL voltage 112 64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL res 0 -352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 50K
SYMBOL voltage 640 -48 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 46 56 VCenter 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value SINE(2.5 0.49 312.5)
SYMBOL cap 768 -64 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 4.7µF
SYMBOL res 912 -64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 10K
SYMBOL res 1072 -224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 10K
SYMBOL LM339 1360 -256 R0
SYMATTR InstName X1
SYMATTR Prefix X
SYMATTR Value LM339
SYMBOL LM339 1360 144 R0
SYMATTR InstName X3
SYMATTR Prefix X
SYMATTR Value LM339
SYMBOL res 1504 176 R0
SYMATTR InstName R9
SYMATTR Value 10K
SYMBOL res 1520 -400 R0
SYMATTR InstName R10
SYMATTR Value 10K
SYMBOL voltage 1392 32 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
SYMATTR InstName V5
SYMATTR Value 5
SYMBOL voltage 1520 288 R0
SYMATTR InstName V6
SYMATTR Value 5
SYMBOL voltage 1392 -352 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
SYMATTR InstName V7
SYMATTR Value 5
SYMBOL OpAmps\\UniversalOpAmp 1008 -32 R0
SYMATTR InstName U2
TEXT 200 504 Left 2 !.tran 0 10m 0 0.1u
TEXT -64 464 Left 2 !.include C:\\Users\\maity\\OneDrive\\Documents\\LTspice\\sub\\LM339.sub
TEXT -736 176 Left 5 ;RAMP GENERATOR
TEXT 808 272 Left 5 ;PWM MODULATOR
